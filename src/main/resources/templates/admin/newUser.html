<form role="form" id="newUserForm" th:action="@{/admin/registration}" th:method="post" th:object="${newUser}"
      class="form.needs-validation">
    <div class="container col-4 text-center">


        <div class="mt-3">
            <label for="username" class="bold-form-label">Username</label>
            <input type="text" class="form-control" th:field="*{username}" id="username"
                   required pattern="[A-Za-zА-Яа-я]{3,30}" minlength="3" maxlength="30">
            <div class="invalid-feedback">First name can contain only letters (30 max)</div>
        </div>

        <div class="mt-3">
            <label for="email" class="bold-form-label">Email</label>
            <input type="email" class="form-control" th:field="*{email}" id="email"
                   required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}">
            <div class="invalid-feedback">Incorrect email</div>
            <div style="color: red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">EmailError</div>
        </div>

        <div class="mt-3">
            <label for="password" class="bold-form-label">Password</label>
            <input type="password" class="form-control" id="password" name="password"
                   required minlength="6" maxlength="100">
            <div class="invalid-feedback">Incorrect password</div>
        </div>
        <div class="mt-3">
            <label for="roles" class="bold-form-label">Role</label>
            <select multiple class="form-control" th:size="${allRoles.size()}" id="roles" name="roles" th:field="*{roles}">
                <option th:each="role: ${allRoles}"
                        th:selected="${role.authority == 'ROLE_USER'}"
                        th:text="${role.authority.replaceFirst('ROLE_', '')}"
                        th:value="${role.id}"></option>
            </select>
        </div>
        <button type="submit" class="btn btn-success btn-lg mt-3">Add new user</button>
    </div>
</form>

