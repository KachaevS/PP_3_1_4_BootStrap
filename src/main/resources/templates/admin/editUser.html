<div class="modal-content">
  <div class="modal-header">
    <h3 class="modal-title" id="userFormModalLabel">Delete or edit user</h3>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>
  <form role="form" id="userFormModal-form" th:action="@{/admin/edit}" th:method="post" th:object="${user}">
    <div class="modal-body">

      <div class="container col-6 text-center">

        <div class="form-group text-center">
          <input type="hidden" th:name="userId" th:value="*{id}"/>
          <input type="hidden" th:name="currentEmail" th:value="*{email}"/>
        </div>

        <div class="mt-3">
          <label for="id" class="bold-form-label">ID</label>
          <input type="text" class="form-control" th:field="*{id}" id="id" disabled>
        </div>

        <div class="mt-3">
          <label for="username" class="bold-form-label">Username</label>
          <input type="text" class="form-control" th:field="*{username}" id="username"
                 required pattern="[A-Za-zА-Яа-я]{3,30}" minlength="3" maxlength="30">
          <div class="invalid-feedback">First name can contain only letters (30 max)</div>
        </div>

        <div class="mt-3">
          <label for="email" class="bold-form-label">Email</label>
          <input type="text" class="form-control" th:field="*{email}" id="email"
                 required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}">
          <div class="invalid-feedback">Incorrect email</div>
          <div style="color: red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">EmailError</div>
        </div>

        <div id="password-div" class="mt-3">
          <label for="password" class="bold-form-label">Password</label>
          <input type="password" class="form-control" th:field="*{password}" id="password"
                 minlength="3" maxlength="100">
          <div class="invalid-feedback">Incorrect password</div>
        </div>


        <div class="mt-3">
          <label for="roles" class="bold-form-label">Role</label>
          <select multiple class="form-select" th:size="${allRoles.size()}" id="roles" name="roles">
            <option th:each="role: ${allRoles}"
                    th:selected="*{hasRole('__${role.id}__')}"
                    th:text="${role.authority.replaceFirst('ROLE_', '')}"
                    th:value="${role.id}">
            </option>
          </select>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
</div>

